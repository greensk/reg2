# Создание страницы, связанной с единичной записи из базы данных

Для создание страницы требуется создать новый контроллер или добавить действие (action) в существующий (см. [создание статичной страницы](static.md)).

Для вывода страницы требуется знать id записи, вывод которой предполагается. Как правило id записи будет являеться частью URL страницы. Для этого нужно создать действие с параметром, который будет соответствовать id записи.
```php
public function actionView($id) {
}
```

Затем требуется подключить соответсвующую модель в текущее пространство имен. Например, если мы хотим вывести запись о конференции, при этом модель конференции находится в файле `common/models`, необходимо добавить в класс контроллера следующую директиву:
```php
use \common\models\Conference;
```

В начале действия необходимо получить объект конференции по переданному в качестве параметра id, используя статичный метод [findOne](http://www.yiiframework.com/doc-2.0/yii-db-baseactiverecord.html#findOne()-detail):
```php
$conference = Conference::findOne($id);
```

В качестве результата метод `findOne` возвращает объект записи, либо `null` в случае, если запись с указанным id не найдена.

В соответствии с этим требуется реализовать два варианта дальнейшего поведения:

1. Указанная запись существуюет — вывести соответствующую страницу.
2. Указанная запись не существует — вывести сообщение об ошибке №404, объект не найден.

```php
    $conference = Conference::findOne($id);
    if ($conference) {
        // вывод записи
    } else {
        throw new \yii\web\NotFoundHttpException('Конференция не найдена');
    }
```

Для вывода записи нужно в контроллере осуществить вывод представления, передав необходимые данные для вывода в качестве второго параметра. Параметры указываются в виде массива. В данном случае массив будет содержать один элемент — объект конференции.
```php
return $this->render('view', ['conference' => $conference]);
```

В представлении при этом будет созданы переменные, соответствующая индексам массива. В данном случае в представлении будет создана переменная `conference`, содержащая объект конференции. В простейшем случае представление может выглядеть следующим образом:
```html
<div>
    Название конференции: <?= htmlspecialchars($conference->title) ?>
</div>
```
