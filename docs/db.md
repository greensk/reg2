# Разработка структуры базы данных

Используя phpMyAdmin создайте необходимые таблицы и связи между ними.

Рекомендации по структуре данных:
* для каждой таблицы добавьте автоинкрементное поле типа `INT`, добавьте ключ типа `PRIMARY`,
* для хранения даты и времени в историческом разрезе (даты рождения, даты намеченных событий в будущем), используйте тип `DATETIME` или `DATE`,
* для хранения даты и времени системных событий используйте тип `TIMESTAMP`,
* для хранения номеров телефонов используйте тип VARCHAR,
* для хранения денежных сумм используйте тип `DECIMAL`, например `DECIMAL(9,2)` для хранения числа с точностью 9 знаков до запятой, 2 знака после запятой,
* для обозначения номера используйте строковый тип `VARCHAR`.

# Генерация кода моделей

Для автоматической генерации исходного кода моделей воспользуйтесь генератором gii:
* откройте в веб-браузере страницу `http://mysite/?r=gii`, где mysite — домен, соответствующий frontend,
* зайдите в Model Generator,
* в поле Table Name введите имя одной из таблиц,
* значение поля Model Class должно сгенерироваться автоматически,
* в поле Namespace укажите `common\models`,
* нажмите Preview, затем Generate,
* очистите поле Model Class и повторите действия для всех таблиц.

# Создание миграции

Для того, чтобы струкура базы данных была сохранена вместе с приложением, рекомендуется создать миграцию:

* Откройте командную строку, перейдите в директорию приложения,
* выполните команду `yii migrate/create stucture`, где `stucutre` — название миграции,
* откройте созданный файл миграции вида `console/migrations/m161109_114649_structure.php`,
* в phpMyAdmin выберите нужную базу данных в левой панели, откройте вкладку «Экспорт»,
* выберите «Способ экспорта» — обычный, вывод отобразить как текст,
* скопируйте выделенный текст, начиная с первой директивы `CREATE TABLE`,
* в файле миграции в методе up() добавьте вызов `$this->execute("...")`, вместо многоточия вставив скопированный SQL-код.

После этого для воссоздания структуры базы данных на другом компьютере (или на этом же компьютере с другой подключенной базой данных) нужно выполнить команду `yii migrate/up`.
После того, как миграция создана вы можете сделать коммит в Git.
